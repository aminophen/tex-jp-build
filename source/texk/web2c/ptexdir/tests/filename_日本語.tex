% UTF-8 encoding
\def\TEST#1{\ifx#1\relax\else\immediate\write16{[\meaning#1]}\expandafter\TEST\fi}
\expandafter\TEST\jobname\relax

\immediate\openout0=\jobname.txt
\immediate\write0{日本語}
\immediate\closeout0

\openin0=\jobname.txt
\ifeof0
  \immediate\write16{File `\jobname.txt' not found.}
\else
  \read0 to \TEXT
  \immediate\write16{TEXT=\TEXT}
\fi
\closein0

\input \jobname.txt

\end

